2025-10-13 17:47:49

# 자동협정 기능 작업 인계 노트

## 현재 상태 요약
- 검색 화면의 페이징/정렬/자동 재검색 문제를 해결했으며, 공종별 파일 타입 정규화도 완료됨.
- `searchLogic`는 실적 수치를 정확히 파싱하고, 3년/5년 실적 정렬 시 모든 공종이 섞여 올바르게 정렬됨.
- 검색 버튼을 누를 때만 재검색이 일어나도록 가드했으며, UI 깜빡임이 최소화됨.
- `AGENTS.md`와 최근 핸드오프 문서에 현재까지의 변경 사항과 작업 방법이 문서화되어 있음.

## 다음 작업 목표 (자동협정 기능)
1. 행안부 자동협정 기능을 재개: 메뉴 구조, 입력 파이프라인, 계산 로직을 검토하고 최신 데이터 포맷과 정렬 규칙에 맞춰 업데이트.
2. 기존 LH 자동협정과의 공통 로직을 재사용하거나 모듈화할 수 있는지 평가.
3. 협정 계산 시 필요한 추가 데이터(지역, 시평, 실적, 협력사 필터 등)를 검색 서비스와 어떻게 연동할지 설계.
4. 성능 요구사항 및 UI 요구사항(예: 협정 결과 요약, 필터 옵션, 내보내기 기능)을 확인하고 우선순위를 정리.

## 알려진 이슈 및 TODO
- 자동협정 관련 문서(`work.md`, `handoff_2025-10-13.md`)에 남겨둔 페이징/레이아웃 개선 요청을 검토하고 필요한 경우 마무리.
- 자동협정 계산에 필요한 최신 규칙이나 데이터 소스를 확인(행안부/LH 규칙 파일).
- UI 테스트: 검색 화면에서 협정 기능으로 진입 시 상태가 정상적으로 초기화되는지 확인 필요.

## 인계 프롬프트 예시
```
다음 세션에서 행안부 자동협정 기능을 이어서 구현하려고 합니다. 
현재 검색/정렬/페이징 로직은 안정화되어 있으니, 
1) 자동협정 UI 구조 점검, 2) 협정 계산 로직 재사용 범위 파악, 3) 필요한 데이터 흐름(검색 → 협정) 정의 
이 세 가지를 우선 정리해 주세요.
```

## 참고 파일
- `handoff_2025-10-13.md`: 기존 페이징/UI 관련 요청 정리.
- `AGENTS.md`: 프로젝트 구조와 개발 규칙.
- `work.md`: 자동협정 기능 관련 메모.
