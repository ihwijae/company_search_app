# 협정보드 반올림 규칙 정리

## 범위
- 협정보드 화면에서 계산되는 점수(경영/실적/총점/신인도 등)의 반올림/올림 적용 기준
- 파일 기준:
  - 계산 로직: `src/view/features/agreements/components/AgreementBoardWindow.jsx`
  - 기본 수식/규칙: `src/shared/formulas.defaults.json`

## 계산값 반올림/올림 (숫자 자체를 바꾸는 구간)

### 한국도로공사(EX)
- 경영점수 총점: 소숫점 셋째자리 반올림 → 둘째자리 (50억 미만/50억~100억)
- 실적점수 총점: 소숫점 셋째자리 반올림 → 둘째자리 (50억 미만/50억~100억)
- 참고: 업체별 경영점수는 반올림 없이 계산값 그대로 사용

### 국가철도공단(KRAIL)
- 50억 미만만 적용
  - 경영점수 총점: 소숫점 셋째자리 반올림 → 둘째자리
  - 실적점수 총점: 소숫점 셋째자리 반올림 → 둘째자리
  - 신인도/총점도 동일 기준 적용
  - 실적비율, 기술자점수도 둘째자리 반올림
- 50억~100억: 별도 반올림 규칙 없음

### 조달청(PPS)
- 50억 미만만 적용
  - 경영점수/실적점수/신인도/총점: 소숫점 둘째자리 **올림**

### LH
- 경영점수/실적점수/신인도: 소숫점 셋째자리 반올림 → 둘째자리
- 총점: 소숫점 셋째자리 반올림 → 둘째자리

### 행안부(MOIS)
- 30억 미만/30~50억만 적용
  - 경영점수 총점: 소숫점 다섯째자리 반올림 → 넷째자리
- 그 외 항목은 별도 반올림 규칙 없음

## 표시 자릿수(화면 표시용)
협정보드 표시 값은 `formatScore`가 사용되며, `resolveSummaryDigits` 기준으로 자릿수가 결정됩니다.

- 공통 기본: 소숫점 셋째자리까지 표시
- 조달청 50억 미만: 소숫점 둘째자리 표시
- 국가철도공단 50억 미만: 소숫점 둘째자리 표시
- 행안부 30억 미만/30~50억:
  - 경영점수/총점: 소숫점 넷째자리 표시
  - 실적점수: 소숫점 둘째자리 표시
- LH:
  - 실적점수/신인도/총점: 소숫점 둘째자리 표시
- 품질점수/순공사원가 등 특수 항목: 소숫점 둘째자리 표시

## 참고
- `formulas.defaults.json`에 정의된 `rounding`은 점수 계산 단계에서 적용됨
- 협정보드 화면에서는 발주처별 추가 반올림 규칙을 별도로 적용함
