## DB 내보내기 및 첨부파일 공유 정리

- **전체 폴더 단위 복사**: 내보내기는 데이터 루트(`records.sqlite` + `attachments/`)를 그대로 묶어 전달하는 방식을 기본으로 삼는다. 사용자는 저장 위치만 고르면 되고, 앱은 해당 폴더 구조를 그대로 복제하거나 zip으로 압축한다.
- **상대경로 유지**: DB에는 첨부파일 경로를 상대경로(`rel_path`)로만 저장하므로, 내보낼 때 추가 변환이 필요 없다. 폴더 자체만 보존하면 다른 PC에서도 경로가 그대로 유효하다.
- **SHA-256 기반 첨부 복사**: 첨부파일은 내용 해시 기반 중복 제거가 적용되어 있으므로, `attachments/` 폴더 전체를 포함하기만 하면 모든 실적이 복원된다. 동일 해시 파일을 여러 실적이 참조하더라도 한 번만 저장되므로 용량 부담이 적다.
- **잠금 파일 처리**: 내보내기 시 `locks/edit.lock`이 남아 있으면 상대방이 혼란을 느낄 수 있다. 내보내기 전에 편집 잠금을 해제하거나, 잠금이 감지되면 경고 메시지를 띄워 사용자가 조치할 수 있게 한다.
- **향후 가져오기 연계**: 가져오기는 내보낸 폴더를 그대로 교체/선택하면 되므로, `meta.json`, `backups/` 등 부가 정보도 함께 유지하면 버전 정보와 백업 스냅샷 복원이 쉬워진다. 내보내기 구현 시 이 구조를 전제로 두면 가져오기 기능 확장도 간단하다.
