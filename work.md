# 작업 제안 및 질문 (요약판)

이 문서는 제안과 질문만 정리합니다. “구현해줘/수정해줘” 요청 전까지는 코드 변경을 하지 않습니다.

## 합의된 작업 규칙
- 사용자가 명시적으로 요청하기 전까지 코드 변경 금지
- 제안/질문은 이 파일에만 기록 및 갱신
- 변경 전 사전 설명, 최소 범위로 수행





## 기능 추가 요청: 협정 문자 생성
아래 요구사항을 기준으로 구현을 준비합니다. 모호하거나 상충하는 부분이 있어 확정이 필요합니다. 질문에 답변해 주시면 그에 맞춰 구현을 시작하겠습니다.

### 확인이 필요한 사항(질문)
- 발주처 헤더 표기 규칙
  - [행안부 및 조달청]의 경우에도 최상단에 발주처명을 대괄호로 표기하나요? (예시에는 헤더가 없고, 설명에는 “맨 위 상단에 [발주처]”라고 되어 있음)
   대답: 행안부 및 조달청의 경우에만 발주처명을 적어주지 않아. 공고명, 공고번호만 적어줘.

- 사업자번호 표기 대상(대표/구성)
  - [행안부 및 조달청]: 대표사 사업자번호를 표기하나요, 구성사 사업자번호를 표기하나요? (예시는 구성사에 번호가 있고, 설명은 대표사 번호로 읽힘)
    대답: 행안부 빛 조달청은  구성사 사업자번호를 표기해.

  - 그 외 발주처(예: 한국토지주택공사 등): 대표사 번호를 표기하나요, 구성사 번호를 표기하나요? (예시는 
  대표사에 번호가 있고, 설명은 “나머지는 구성사 번호”로 읽힘)
    대답: 그 외 발주처에서 한국토지주택공사만 대표사 사업자번호를 표기하고 그 외는 구성사 사업자 번호를 표기해.

- 발주처 목록 오타 확인
  - “한국수자원자력” → “한국수자원공사” 또는 “한국수력원자력” 중 어떤 것인가요?
대답: 한국수자원자력이 맞아

- 지분 입력 규칙
  - 총합 100% 강제인가요? 소수점(예: 33.3%) 허용 여부는요?
    대답: 총합 100%강제이고 소수좀 허용해. 입력도 소숫점 허용해 반올림 같은 로직은 넣지마.

  - 대표사 1명 + 구성사 최대 4명(총 최대 5명) 맞나요?
  대답: 맞아 최대5명이지 꼭 5명일 필요는없어 

- 중복 및 검증 규칙
  - 대표사가 구성사에도 중복 선택되는 것을 금지하나요?
    대답: 맞아 중복 안돼

  - 같은 구성사를 중복 추가하는 것을 금지하나요?
    대답: 이것도 중복 안돼 하지만

- 업체 검색 범위
  - 대표/구성 선택 모달에서 전체(all) 검색 허용인가요, 현재 파일 타입 한정 검색인가요?
    대답: 내가 이부분은 요청사항에 빼먹었구나  전기,통신,소방 중에 어떤 공고인지를 선택하는 드롭다운메뉴도 필요해. 그럼 여기서 사용자가 선택한 것의 업체를 조회 하면돼 예시- 전기를 선택하면 전기엑셀파일에서 조회.

- 협정 리스트 보존 범위
  - 앱 종료 후에도 리스트를 복원(로컬 저장)할까요, 세션 내에서만 유지할까요?
    대답: 앱 종료 후에도 리스트를 저장하는 기능이 있으면 좋을거같아

- 출력/내보내기 방식
  - 기본은 클립보드 복사로 충분한가요? .txt 저장 옵션도 필요할까요?
  대답: 클립보드 복사로 충분해

- 포맷 세부 규칙
  - “공고번호 (띄어쓰기) 공고명”의 구분은 공백 1칸 고정인가요?
    대답: 맞아 공백 1칸으로 고정해줘
  - 여러 협정을 하나로 합칠 때 협정 간 공백 라인은 1줄이면 될까요?
    이건 내가  행안부 및 조달청 완성본 문자 예시를 줄게
    R25BK01027798-000 은평세무서 청사 신축공사(소방)

아람이엔테크㈜ 51%,
㈜재윤전기 49% [104-81-53657]

협정 부탁드립니다

---------------------

R25BK01027798-000 은평세무서 청사 신축공사(소방)

㈜우진일렉트 51%,
(주)태건전설 49% [109-86-10551]

협정 부탁드립니다

---------------------

R25BK01027798-000 은평세무서 청사 신축공사(소방)

에코엠이엔씨㈜
이화공영㈜ 49% [105-81-11500]

협정 부탁드립니다

-- 이런식으로 여러개일경우 만들어주면 돼 --------로 구분선지어서.

  -   추강 요청사항 .여기에 업체를 조회하는 모달에 업체를 조회하면 대표자랑 지역정도 같이 조회되게 해줘 데이터가 필요하진 않지만 제대로 조회한건지 체크하기 위함이야.


### 구현 제안(승인 후 진행)
- 라우트 추가: `#/agreements` 페이지(좌측 메뉴 진입)
- 상단 공통 입력: 발주처 드롭다운, 공고번호, 공고명
- 협정 작성 카드
  - 대표사 선택(검색 모달) + 지분 입력 
  - 구성사 최대 4명 선택(검색 모달) + 개별 지분 입력, 행 추가/삭제
   
  - [리스트에 추가] → 하단 리스트에 누적, 항목별 편집/삭제 가능
- 검색 모달
  - 기존 IPC `search-companies`/`search-companies-all` 재사용, 회사명/사업자번호 검색
- 유효성 검증
  - 지분 합계(예: 100%) 경고, 중복 방지(대표↔구성/구성 중복)
- 문자 생성
  - 발주처별 규칙에 맞춘 템플릿 생성
  - [클립보드 복사], [TXT 저장] 버튼 제공
위 질문에 대한 답변을 주시면, 설계 고정 → UI 스캐폴딩 → 검색 모달 → 리스트/편집 → 생성기 구현 순으로 작업하겠습니다.

